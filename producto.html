<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Detalles - Unite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Outfit:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- 3D Model Viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], brand: ['Outfit', 'sans-serif'] },
                    colors: { unite: { blue: '#4285F4', red: '#EA4335', yellow: '#FBBC05', green: '#34A853' } }
                }
            }
        }
    </script>

    <style>
        body { background-color: #000; color: white; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        .glass-panel { background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.1); }
        .glass-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); backdrop-filter: blur(10px); }
        .btn-primary { background: #34A853; color: black; font-weight: bold; transition: all 0.2s; }
        .btn-primary:hover { background: #2E8B46; transform: scale(1.02); }
        
        #mobile-menu { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .menu-open { transform: translateX(0); }
        .menu-closed { transform: translateX(100%); }
    </style>
</head>
<body class="pb-20">

    <!-- Nav -->
    <nav class="fixed w-full z-50 top-0 glass-panel p-4">
        <div class="flex justify-between items-center max-w-7xl mx-auto">
            <a href="catalogo.html" class="flex items-center gap-2 text-gray-300 hover:text-white transition text-sm md:text-base">
                <i data-lucide="arrow-left"></i> <span class="font-bold">Volver</span>
            </a>
            <!-- Logo -->
            <a href="index.html" class="text-xl font-brand font-bold tracking-tighter hover:scale-105 transition">
                <span class="text-unite-blue">U</span><span class="text-unite-red">n</span><span class="text-unite-yellow">i</span><span class="text-unite-green">t</span><span class="text-unite-blue">e</span>
            </a>
            <div class="flex gap-3">
                <button id="cart-btn" class="p-2 bg-white/10 rounded-full text-white"><i data-lucide="shopping-bag" class="w-5 h-5"></i></button>
                <button id="menu-btn" class="md:hidden p-2 rounded-full bg-white/10 text-white"><i data-lucide="menu" class="w-5 h-5"></i></button>
            </div>
        </div>
    </nav>

    <!-- Menú Móvil Pro -->
    <div id="mobile-menu" class="fixed inset-0 z-[60] bg-black/95 backdrop-blur-xl menu-closed flex flex-col justify-center px-8 space-y-6 md:hidden">
        <div class="absolute top-5 right-5"><button id="close-menu" class="p-2 bg-white/10 rounded-full text-white"><i data-lucide="x" class="w-6 h-6"></i></button></div>
        <a href="index.html" class="glass-card p-4 rounded-xl flex items-center gap-4 text-xl font-bold"><i data-lucide="home" class="text-unite-blue"></i> Inicio</a>
        <a href="catalogo.html" class="glass-card p-4 rounded-xl flex items-center gap-4 text-xl font-bold border-l-4 border-white"><i data-lucide="shopping-bag" class="text-white"></i> Catálogo</a>
        <a href="gamers.html" class="glass-card p-4 rounded-xl flex items-center gap-4 text-xl font-bold"><i data-lucide="gamepad-2" class="text-unite-green"></i> Gamers</a>
        <a href="wwu.html" class="glass-card p-4 rounded-xl flex items-center gap-4 text-xl font-bold"><i data-lucide="briefcase" class="text-unite-yellow"></i> W.W.U</a>
        <a href="condiciones.html" class="glass-card p-4 rounded-xl flex items-center gap-4 text-xl font-bold"><i data-lucide="info" class="text-unite-red"></i> Info & Legal</a>
    </div>

    <main class="pt-24 px-4 max-w-6xl mx-auto">
        
        <!-- Layout Producto -->
        <div class="flex flex-col lg:flex-row gap-8 lg:gap-16">
            
            <!-- Columna Izq -->
            <div class="w-full lg:w-1/2">
                <div class="aspect-square glass-card rounded-3xl flex items-center justify-center p-8 relative overflow-hidden group" id="img-container">
                    <div class="animate-pulse bg-white/5 w-full h-full rounded-xl"></div>
                </div>
            </div>

            <!-- Columna Der -->
            <div class="w-full lg:w-1/2 flex flex-col">
                <div class="mb-auto">
                    <span id="prod-cat" class="text-unite-blue text-sm font-bold tracking-wider uppercase mb-2 block">Categoría</span>
                    <h1 id="prod-name" class="text-3xl md:text-5xl font-bold mb-4 leading-tight">Cargando...</h1>
                    
                    <div class="flex items-center gap-4 mb-6">
                        <span id="prod-price" class="text-3xl font-bold text-green-400">$0.00</span>
                        <span id="prod-badge" class="px-3 py-1 bg-white/10 rounded-full text-xs font-medium text-gray-300 border border-white/10 hidden"></span>
                    </div>

                    <div class="space-y-6 text-gray-300 text-lg leading-relaxed border-t border-b border-white/10 py-6 mb-8">
                        <p id="prod-desc">Descripción...</p>
                        <ul class="space-y-2 text-sm text-gray-400">
                            <li class="flex gap-2"><i data-lucide="check" class="text-green-500 w-5 h-5"></i> Garantía de 7 días</li>
                            <li class="flex gap-2"><i data-lucide="check" class="text-green-500 w-5 h-5"></i> Envío seguro</li>
                        </ul>
                    </div>
                </div>

                <!-- Acciones -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button id="buy-btn" class="btn-primary flex-1 py-4 rounded-xl flex items-center justify-center gap-2 text-lg shadow-lg shadow-green-500/20 transition transform active:scale-95">
                        <i data-lucide="message-circle"></i> Comprar
                    </button>
                    <button id="add-cart-btn" class="flex-1 py-4 rounded-xl glass-card hover:bg-white/10 transition font-bold text-lg active:scale-95">
                        Añadir al Carrito
                    </button>
                </div>
            </div>
        </div>

        <!-- Relacionados -->
        <section class="mt-20">
            <h3 class="text-2xl font-bold mb-6">También te podría interesar</h3>
            <div id="related-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
        </section>

    </main>

    <script>
        lucide.createIcons();

        // === BASE DE DATOS SINCRONIZADA (IDÉNTICA A CATÁLOGO) ===
        const products = [
            // Apple
            { id: 'sw-s10-nike', name: 'Apple Watch S10 Nike (unidad)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', desc: 'Promo: 2 por $1299. Estilo deportivo.', badge: 'Promo' },
            { id: 'sw-s10-hermes', name: 'Apple Watch S10 Hermes (unidad)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', desc: 'Promo: 2 por $1299. Edición lujo.', badge: 'Promo' },
            { id: 'sw-ultra2', name: 'Apple Watch Ultra 2 Black (unidad)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', desc: 'Promo: 2 por $1299. Resistente.', badge: 'Promo' },
            { id: 'kit-blanca', name: 'Kit Apple Caja Blanca', price: 1150, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', badge: 'Kit' },
            { id: 'kit-nike', name: 'Kit Apple Nike', price: 850, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', badge: 'Kit' },
            { id: 'ap-pencil', name: 'Pencil OEM', price: 249, category: 'Apple', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ap-magsafe-bat', name: 'Batería MagSafe con Pantalla', price: 399, category: 'Apple', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ap-wallet', name: 'Wallet MagSafe de Piel', price: 299, category: 'Apple', img: 'https://i.imgur.com/placehold.png' },

            // Smartwatch
            { id: 'sw-power', name: 'Smart Watch Power G-TIDE', price: 1199, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-q1', name: 'Smart Watch Q1 G-TIDE', price: 549, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-s5', name: 'Smart Watch S5 Pro G-TIDE', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-romance', name: 'Smart Watch Romance G-TIDE', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-r8', name: 'Smart Watch R8 Pro G-TIDE', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-r6', name: 'Smart Watch R6 Pro G-TIDE', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png' },
            { id: 'sw-hw', name: 'HW Ultra 2 Call (Reloj TikTok)', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/placehold.png', badge: 'Viral' },

            // Audio
            { id: 'au-max-orig', name: 'AirPods Max (Calidad Original)', price: 2400, category: 'Audio', img: 'https://i.imgur.com/placehold.png', badge: 'Premium' },
            { id: 'au-max-11', name: 'AirPods Max (Calidad 1.1)', price: 749, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-pro2', name: 'AirPods Pro 2G (Calidad Original)', price: 999, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-4g', name: 'AirPods 4G (Calidad Original)', price: 899, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-3g', name: 'AirPods 3G (Calidad Original)', price: 800, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-kids', name: 'AirPods Pro Diseños Niños', price: 249, category: 'Audio', img: 'https://i.imgur.com/placehold.png', badge: 'Promo' },
            { id: 'au-oem', name: 'AirPods OEM (Pro 2G, 4G, 3G)', price: 349, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-beats', name: 'Beats Fit Pro', price: 399, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-lavalier', name: 'Micrófono Lavalier (Lightning)', price: 199, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-pb', name: 'Audifonos Power Bank Cables', price: 229, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-samsung', name: 'Samsung Buds OEM (Promo 2x1)', price: 450, category: 'Audio', img: 'https://i.imgur.com/placehold.png', desc: 'Precio por pieza, aprovecha el 2x1.' },
            { id: 'au-future', name: 'G-TIDE Earpods Future', price: 499, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-l32', name: 'G-TIDE Audífonos L32', price: 279, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-ac01', name: 'G-TIDE Audífonos AC01', price: 259, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },
            { id: 'au-c1', name: 'Audífonos Diadema C1 Lite', price: 329, category: 'Audio', img: 'https://i.imgur.com/placehold.png' },

            // Accesorios & Carga
            { id: 'ac-force', name: 'Tenis Air Force 1 (Premium)', price: 999, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-jersey', name: 'Adidas Jersey Mexico', price: 850, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-zoom', name: 'Zoom para Celular', price: 99, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-selfie', name: 'Selfie Stick y Soporte', price: 129, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-rasura-vin', name: 'Rasuradora Vintage', price: 169, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-rasura-elec', name: 'Rasuradora Eléctrica', price: 249, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ch-multi', name: 'Multicontacto 1Hora', price: 189, category: 'Carga', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-ext', name: 'Extensión 10 Metros', price: 179, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-encen', name: 'Encendedor Eléctrico', price: 149, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-cepillo', name: 'Cepillo Secador de Cabello', price: 279, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-llavero', name: 'Llavero Antirrobo', price: 139, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-sop-mag', name: 'Soporte Magnético 1Hora', price: 99, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-sop-retro', name: 'Soporte Cel Retrovisor', price: 99, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png' },
            { id: 'ac-case', name: 'Lote 10 Case de Silicón', price: 49, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Precio por pieza.' },
            { id: 'ac-mochila', name: 'Lote 5 Mochilas', price: 199, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Precio por set.' },
            { id: 'ac-mochila-agua', name: 'Lote 25 Mochilas Contra Agua', price: 49, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Precio por pieza en lote.' },
            { id: 'ac-oceano5', name: 'Oceano Pack 5L', price: 149, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Impermeable.' },
            { id: 'ac-oceano10', name: 'Oceano Pack 10L', price: 199, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Gran capacidad.' },
            { id: 'ac-cartera', name: 'Cartera y Bolsa Coach 1.1', price: 399, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Elegancia.' },
            { id: 'ac-wallet', name: 'Wallet MagSafe Piel', price: 299, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Para iPhone.' },
            { id: 'ac-pencil', name: 'Pencil OEM', price: 249, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Para iPad.' },
            { id: 'ac-baofeng', name: 'Radios Baofeng (Par)', price: 399, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Largo alcance.' },
            { id: 'ac-lentes', name: 'Lentes Inteligentes', price: 380, category: 'Accesorios', img: 'https://i.imgur.com/placehold.png', desc: 'Audio bluetooth.' },
            { id: 'ch-bat', name: 'Batería MagSafe c/Pantalla', price: 399, category: 'Carga', img: 'https://i.imgur.com/placehold.png', desc: 'Carga inalámbrica.' },
            { id: 'ch-pb', name: 'Power Bank 20,000 mAh G-TIDE', price: 549, category: 'Carga', img: 'https://i.imgur.com/placehold.png', desc: 'Mucha energía.' },
            { id: 'ch-cubo20', name: 'Cubo 20W Tipo C', price: 80, category: 'Carga', img: 'https://i.imgur.com/placehold.png', desc: 'Carga rápida.' },

            // Hogar
            { id: 'ho-vent-4', name: 'Caja 4 Ventiladores 3en1', price: 2500, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Sistema completo.' },
            { id: 'ho-lamp', name: 'Lámpara Ventilador Techo', price: 299, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Luz y aire.' },
            { id: 'ho-foco', name: 'Cámara Foco 360', price: 349, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Vigilancia.' },
            { id: 'ho-vent-hum', name: 'Ventilador Humidificador', price: 289, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Fresco.' },
            { id: 'ho-humid', name: 'Humidificador Madera', price: 169, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Aroma.' },
            { id: 'ho-disp', name: 'Dispensador Agua LED', price: 129, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Práctico.' },
            { id: 'ho-tira', name: 'Tira LED RGB 5M', price: 139, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Decoración.' },
            { id: 'ho-tv', name: 'Tira LED para TV', price: 159, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Ambiente.' },
            { id: 'ho-aro', name: 'Aro Luz 12" RGB', price: 259, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Video pro.' },
            { id: 'ho-tac', name: 'Lámpara Táctica', price: 99, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Potente.' },
            { id: 'ho-vent-p', name: 'Ventilador Portátil', price: 189, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Recargable.' },
            { id: 'ho-stan', name: 'Termo Stanley Top', price: 299, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Calidad.' },
            { id: 'ho-yeti', name: 'Termo Yeti 20oz', price: 249, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Resistente.' },
            { id: 'ho-vaso', name: 'Vaso Brillo', price: 159, category: 'Hogar', img: 'https://i.imgur.com/placehold.png', desc: 'Estilo brillante.' },

            // JUGUETES & GAMING
            { id: 'ga-master', name: 'Game Master R36', price: 1100, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Consola retro.' },
            { id: 'ga-combo', name: 'Combo Gamer 4en1', price: 599, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Kit PC.' },
            { id: 'ga-stick', name: 'Game Stick 4K', price: 790, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Juegos TV.' },
            { id: 'ga-pist', name: 'Pistola Hidrogel AK47', price: 349, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Orbeez.' },
            { id: 'ga-lego', name: 'Lego Diseños', price: 79, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Bloques.' },
            { id: 'ga-fig', name: 'Figura Súper Héroes', price: 159, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png', desc: 'Colección.' },
            { id: 'ga-reloj-cam', name: 'Reloj Infantil + Cámara Juguete', price: 149, category: 'Juguetes', img: 'https://i.imgur.com/placehold.png' }
        ];

        const params = new URLSearchParams(window.location.search);
        const prodId = params.get('id') || 'sw-apple-nike';
        const product = products.find(p => p.id === prodId);

        if (product) {
            document.title = `${product.name} - Unite`;
            document.getElementById('prod-name').innerText = product.name;
            document.getElementById('prod-price').innerText = `$${product.price.toLocaleString()}`;
            document.getElementById('prod-cat').innerText = product.category;
            document.getElementById('prod-desc').innerText = product.desc || 'Producto disponible.';
            if(product.badge) {
                const badge = document.getElementById('prod-badge');
                badge.innerText = product.badge;
                badge.classList.remove('hidden');
            }
            document.getElementById('img-container').innerHTML = `<img src="${product.img}" class="w-full h-full object-contain drop-shadow-2xl" onerror="this.src='https://placehold.co/500?text=UNITE'">`;
            
            document.getElementById('buy-btn').onclick = () => {
                window.open(`https://wa.me/525574123521?text=${encodeURIComponent('Me interesa: ' + product.name)}`, '_blank');
            };
            
            document.getElementById('add-btn').onclick = () => {
                let c = JSON.parse(localStorage.getItem('uniteCart')) || [];
                c.push(product);
                localStorage.setItem('uniteCart', JSON.stringify(c));
                alert('Añadido al carrito');
            };

            // Relacionados
            const related = products.filter(p => p.category === product.category && p.id !== product.id).slice(0, 4);
            if(related.length > 0) {
                related.forEach(p => {
                    const el = document.createElement('a');
                    el.href = `producto.html?id=${p.id}`;
                    el.className = 'glass-card p-4 rounded-xl flex flex-col items-center text-center hover:bg-white/5 transition group';
                    el.innerHTML = `
                        <div class="h-24 w-full mb-3 flex items-center justify-center"><img src="${p.img}" class="h-full object-contain group-hover:scale-110 transition" onerror="this.src='https://placehold.co/100'"></div>
                        <h4 class="font-bold text-sm mb-1 line-clamp-1">${p.name}</h4>
                        <span class="text-xs text-gray-400">$${p.price}</span>
                    `;
                    document.getElementById('related-grid').appendChild(el);
                });
            }
        } else {
            document.querySelector('main').innerHTML = `<div class="text-center py-20 text-gray-500">Producto no encontrado</div>`;
        }

        // Menu Logic
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMenuBtn = document.getElementById('close-menu');

        function toggleMenu() {
            mobileMenu.classList.toggle('menu-closed');
            mobileMenu.classList.toggle('menu-open');
        }
        menuBtn.addEventListener('click', toggleMenu);
        closeMenuBtn.addEventListener('click', toggleMenu);

        // Cart Redirect
        document.getElementById('cart-btn').addEventListener('click', () => window.location.href = 'catalogo.html');
    </script>
</body>
</html>