<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS | Base de Datos</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'], tech: ['Rajdhani', 'sans-serif'] },
                    colors: { nexus: { black: '#030303', cyan: '#00F0FF', purple: '#7000FF', green: '#00FF94', red: '#FF2A6D' } }
                }
            }
        }
    </script>

    <style>
        body { background-color: #030303; color: #e5e5e5; overflow-x: hidden; }
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
        .glass-panel { background: rgba(10, 10, 10, 0.8); backdrop-filter: blur(16px); border-bottom: 1px solid rgba(255, 255, 255, 0.08); }
        .glass-card { background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.0) 100%); border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.3s; position: relative; overflow: hidden; }
        .glass-card:hover { border-color: rgba(0, 240, 255, 0.4); transform: translateY(-4px); box-shadow: 0 10px 30px -10px rgba(0, 240, 255, 0.15); }
        .filter-pill { font-family: 'Rajdhani', sans-serif; text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.3s ease; }
        .filter-pill.active { background: #00F0FF; color: #000; border-color: #00F0FF; box-shadow: 0 0 15px rgba(0, 240, 255, 0.4); }
        .nav-link { font-family: 'Rajdhani', sans-serif; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <div class="fixed inset-0 bg-nexus-black z-[-2]"></div>
    <div class="fixed inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMiIgY3k9IjIiIHI9IjEiIGZpbGw9IiMxYTFhMWEiLz48L3N2Zz4=')] opacity-20 z-[-1] pointer-events-none"></div>

    <!-- Nav -->
    <nav class="fixed w-full z-50 top-0 glass-panel">
        <div class="px-6 h-20 flex justify-between items-center max-w-7xl mx-auto">
            <a href="index.html" class="flex items-center gap-3 group">
                <img src="https://i.imgur.com/GtqogQE.png" alt="NEXUS Logo" class="h-8 md:h-10 w-auto object-contain drop-shadow-[0_0_15px_rgba(0,240,255,0.3)] group-hover:scale-110 transition-transform duration-300">
                <span class="text-xl font-tech font-bold tracking-widest text-white ml-1 group-hover:text-nexus-cyan transition-colors">NEXUS</span>
            </a>
            
            <div class="hidden md:flex gap-8 text-sm text-gray-400">
                <a href="index.html" class="nav-link hover:text-white transition">Interfaz</a>
                <a href="condiciones.html" class="nav-link hover:text-white transition">Condiciones</a>
                <a href="gamers.html" class="nav-link hover:text-nexus-green transition">División Gaming</a>
                <a href="wwu.html" class="nav-link hover:text-nexus-purple transition">W.W.U.</a>
            </div>

            <div class="flex gap-4 items-center">
                <button id="cart-trigger" class="relative p-2 hover:text-nexus-cyan transition group">
                    <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                    <span id="cart-count" class="absolute top-0 right-0 bg-nexus-cyan text-black text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-sm hidden shadow-[0_0_10px_rgba(0,240,255,0.5)]">0</span>
                </button>
                <button id="menu-btn" class="md:hidden text-white"><i data-lucide="menu" class="w-6 h-6"></i></button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-[60] bg-nexus-black/95 backdrop-blur-xl translate-x-full transition-transform duration-300 flex flex-col justify-center px-10 md:hidden">
        <button id="close-menu" class="absolute top-6 right-6 text-white"><i data-lucide="x" class="w-8 h-8"></i></button>
        <div class="space-y-6">
            <a href="index.html" class="block text-3xl font-tech font-bold text-gray-500 hover:text-white">01 // INTERFAZ</a>
            <a href="condiciones.html" class="block text-3xl font-tech font-bold text-nexus-cyan">02 // CONDICIONES</a>
            <a href="gamers.html" class="block text-3xl font-tech font-bold text-gray-500 hover:text-nexus-green">03 // GAMING</a>
            <a href="wwu.html" class="block text-3xl font-tech font-bold text-gray-500 hover:text-nexus-purple">04 // W.W.U.</a>
        </div>
    </div>

    <!-- Filters Bar -->
    <div class="fixed top-20 w-full z-40 bg-nexus-black/80 backdrop-blur-md border-b border-white/5 py-4">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row gap-4 md:items-center md:justify-between">
            <div class="relative w-full md:w-96 group">
                <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 group-focus-within:text-nexus-cyan transition-colors"></i>
                <input type="text" id="search-input" placeholder="BUSCAR EN BASE DE DATOS..." class="w-full bg-white/5 border border-white/10 rounded-sm py-2 pl-10 pr-4 text-sm font-tech text-white focus:outline-none focus:border-nexus-cyan/50 focus:bg-white/10 transition-all placeholder-gray-600 tracking-wider">
            </div>
            <div class="flex gap-2 overflow-x-auto hide-scroll w-full md:w-auto pb-1" id="filters-container">
                <button class="filter-pill active border border-white/10 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap" data-cat="all">TODO</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Electrónica">TABLETS</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Smartwatch">RELOJES</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Audio">AUDIO</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Gaming">GAMING</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Carga">ENERGÍA</button>
                <button class="filter-pill bg-transparent border border-white/10 text-gray-400 px-5 py-1.5 rounded-sm text-xs font-bold whitespace-nowrap hover:border-white/30" data-cat="Accesorios">ACCESORIOS</button>
            </div>
        </div>
    </div>

    <!-- Main Grid -->
    <main class="pt-48 md:pt-44 px-6 pb-20 max-w-7xl mx-auto w-full flex-grow">
        <div class="flex justify-between items-end mb-6 border-b border-white/5 pb-2">
            <h2 class="text-xs font-tech text-nexus-cyan tracking-[0.2em]">INVENTARIO 2025</h2>
            <div class="text-[10px] text-gray-600 font-mono">LIVE_UPDATE_V4.5</div>
        </div>
        
        <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
            <!-- JS Rendered Items -->
        </div>
        
        <div id="empty-msg" class="hidden flex flex-col items-center justify-center py-20 text-gray-600">
            <i data-lucide="binary" class="w-16 h-16 mb-4 opacity-20"></i>
            <p class="font-tech tracking-widest">DATOS NO ENCONTRADOS</p>
        </div>
    </main>

    <!-- Cart Sidebar -->
    <div id="cart-overlay" class="fixed inset-0 z-[90] bg-nexus-black/80 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300"></div>
    
    <div id="cart-panel" class="fixed inset-y-0 right-0 w-full md:w-[450px] z-[100] bg-[#050505] border-l border-white/10 flex flex-col transform translate-x-full transition-transform duration-300">
        <div class="p-6 border-b border-white/10 flex justify-between items-center bg-white/5">
            <h3 class="font-tech font-bold text-xl tracking-wider text-white flex items-center gap-2">
                <i data-lucide="cpu" class="w-5 h-5 text-nexus-cyan"></i> MODULO_CARRITO
            </h3>
            <button id="close-cart" class="text-gray-400 hover:text-white transition"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        
        <div id="cart-items" class="flex-grow overflow-y-auto p-6 space-y-4 custom-scrollbar"></div>
        
        <div class="p-6 border-t border-white/10 bg-nexus-black space-y-4">
            <div class="flex justify-between items-end font-tech">
                <span class="text-gray-500 tracking-widest text-sm">TOTAL ESTIMADO</span>
                <span id="cart-total" class="font-bold text-3xl text-white text-shadow-glow">$0.00</span>
            </div>
            <button id="checkout-btn" class="w-full py-4 bg-nexus-cyan/10 border border-nexus-cyan text-nexus-cyan font-bold font-tech tracking-widest uppercase hover:bg-nexus-cyan hover:text-black transition-all duration-300 flex justify-center items-center gap-2 group">
                <i data-lucide="message-square" class="w-4 h-4"></i> Iniciar Transferencia
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // --- INVENTARIO NEXUS 2025 (ACTUALIZADO) ---
        const products = [
             // --- PRODUCTOS ESTRELLA (Top) ---
            { id: 'tab-ipad', name: 'Tablet tipo iPad Pro 10.1"', price: 2499, category: 'Electrónica', img: 'https://i.imgur.com/jqFnQzA.png', badge: 'TOP VENTAS', desc: 'Pantalla 10.1" HD, 8GB RAM, 256GB ROM. Ideal para productividad.' },
            { id: 'tab-s25', name: 'Tablet S25 Ultra', price: 2499, category: 'Electrónica', img: 'https://i.imgur.com/e1g2Em1.png', badge: 'NEW', desc: 'Rendimiento superior. Android 12, 8GB RAM, 256GB ROM.' },
            { id: 'sw-ultra-apple', name: 'Apple Watch Ultra (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/GsqP7WQ.png', badge: 'HOT', desc: 'Diseño robusto 49mm. Tornillos reales y pantalla infinita.' },
            { id: 'au-beats-studio', name: 'Beats Studio Pro (OEM)', price: 599, category: 'Audio', img: 'https://imgur.com/FHcG52z.png', badge: 'PRO AUDIO', desc: 'Sonido Hi-Fi y cancelación de ruido. Imagen actualizada.' },

            // --- SMARTWATCHES ---
            { id: 'sw-hw-s10', name: 'HW S10 Call (Android)', price: 1399, category: 'Smartwatch', img: 'https://imgur.com/5pliG0r.png', badge: 'ANDROID', desc: 'Sistema Android completo, PlayStore y cámara integrada.' },
            { id: 'sw-ultra-hermes', name: 'Apple Watch Ultra Hermes (OEM)', price: 850, category: 'Smartwatch', img: 'https://i.imgur.com/JoHpOnX.png', badge: 'LUXE', desc: 'Edición de lujo con correas exclusivas.' },
            { id: 'sw-s10-hermes', name: 'Apple Watch S10 Hermes (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/IkRxLiq.png', desc: 'Serie 10 estética Hermes. Elegancia pura.' },
            { id: 'sw-s10-nike', name: 'Apple Watch S10 Nike (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/YhM4qTx.png', badge: 'SPORT', desc: 'Edición deportiva Nike.' },
            { id: 'sw-r9-edge', name: 'G-Tide R9 Edge', price: 1399, category: 'Smartwatch', img: 'https://i.imgur.com/yxK0Cl6.png', badge: 'RECOMENDADO', desc: 'Pantalla AMOLED Curva 3D, Sumergible IP68.' },
            { id: 'sw-s6-pro', name: 'G-Tide S6 Pro', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/LH9vZCl.png', desc: 'Incluye 3 correas intercambiables.' },
            { id: 'sw-s5-pro', name: 'G-Tide S5 Pro', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/LpW23dS.png', desc: 'Estilo Ultra resistente.' },
            { id: 'sw-hk11-ultra3', name: 'HK11 Ultra 3 AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/CBjs1KR.png', badge: 'AMOLED', desc: 'Pantalla AMOLED real 1:1 Ultra.' },
            { id: 'sw-hk11-promax', name: 'HK11 Pro Max+ AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/5viNy6h.png', desc: 'Pantalla AMOLED alto rendimiento.' },
            { id: 'sw-hk11-mini', name: 'HK11 Mini AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/G2iw0TN.png', badge: 'COMPACTO', desc: 'Versión compacta alta gama.' },
            { id: 'sw-sam-amoled', name: 'Galaxy Watch AMOLED (OEM)', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/rGlBUnO.png', desc: 'Pantalla AMOLED vibrante. NO sumergible.' },
            { id: 'sw-sam-ultra', name: 'Samsung Watch Ultra (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/2bQiDjQ.png', desc: 'Diseño deportivo tipo Ultra.' },

            // --- AUDIO ---
            { id: 'au-l22', name: 'Audífonos L22 G-Tide', price: 299, category: 'Audio', img: 'https://imgur.com/QtIVFxk.png', desc: 'Excelente relación calidad-precio.' },
            { id: 'au-airpods-kids', name: 'AirPods Pro Niños', price: 299, category: 'Audio', img: 'https://imgur.com/rqxX0Yl.png', desc: 'Fundas divertidas de personajes.' },
            { id: 'au-gtide-ows8', name: 'G-Tide OWS8', price: 450, category: 'Audio', img: 'https://imgur.com/4YMMZ8A.png', badge: 'OPEN EAR', desc: 'Diseño abierto deportivo.' },
            { id: 'au-gtide-ac01', name: 'G-Tide AC01', price: 280, category: 'Audio', img: 'https://imgur.com/RjQg82W.png', desc: 'Conducción ósea simulada.' },
            { id: 'au-c1-rgb', name: 'Audífonos C1 RGB', price: 399, category: 'Audio', img: 'https://imgur.com/GbMBVsS.png', desc: 'Diadema con luces RGB.' },
            { id: 'au-jbl-flip7', name: 'JBL Flip 7 1.1', price: 450, category: 'Audio', img: 'https://imgur.com/QrSrMKc.png', desc: 'Réplica 1.1 con gran sonido.' },
            { id: 'au-clip-1', name: 'G-Tide Clip 1', price: 399, category: 'Audio', img: 'https://i.imgur.com/E2ELAAB.png', badge: 'INNOVACIÓN', desc: 'Diseño Clip Open-Ear.' },
            { id: 'au-spk-karaoke', name: 'Bocina Karaoke Box BTS', price: 950, category: 'Audio', img: 'https://i.imgur.com/syXUnDi.png', desc: 'Incluye micrófono.' },
            { id: 'au-spk-65', name: 'Bocina 6.5" Fantastic', price: 499, category: 'Audio', img: 'https://i.imgur.com/Of8qn1M.png', desc: 'Compacta y potente.' },
            { id: 'au-spk-8', name: 'Bocina 8" Fantastic', price: 650, category: 'Audio', img: 'https://i.imgur.com/P7wxRdK.png', desc: 'Bajos profundos.' },

            // --- ACCESORIOS & GADGETS ---
            { id: 'ac-lentes-smart', name: 'Lentes Inteligentes', price: 650, category: 'Accesorios', img: 'https://imgur.com/KeBxXe1.png', badge: 'TECH', desc: 'Audio Bluetooth integrado.' },
            { id: 'ac-case-silicon', name: 'Case de Silicón (Lote)', price: 99, category: 'Accesorios', img: 'https://imgur.com/pGnhOHO.png', desc: 'Colores variados. Precio por pieza.' },
            { id: 'ac-pencil-oem', name: 'Pencil OEM', price: 199, category: 'Accesorios', img: 'https://imgur.com/MMTzs38.png', desc: 'Para tablets y iPad.' },
            { id: 'ac-apple-pencil', name: 'Apple Pencil OEM', price: 299, category: 'Accesorios', img: 'https://imgur.com/JjGI54l.png', desc: 'Caja tipo original.' },
            { id: 'ac-mica-priv', name: 'Mica de Privacidad', price: 80, category: 'Accesorios', img: 'https://imgur.com/tHhkPqq.png', desc: 'Protege tu pantalla de miradas.' },
            { id: 'ac-wallet-piel', name: 'Wallet MagSafe Piel', price: 250, category: 'Accesorios', img: 'https://imgur.com/pQQdXSO.png', desc: 'Cartera magnética premium.' },
            { id: 'ac-case-clear', name: 'Case MagSafe Clear', price: 120, category: 'Accesorios', img: 'https://imgur.com/IaFgYHl.png', desc: 'Transparente con imanes.' },
            { id: 'ac-soporte', name: 'Soporte Celular', price: 130, category: 'Accesorios', img: 'https://imgur.com/5F9XBTy.png', desc: 'Para escritorio.' },

            // --- CARGA ---
            { id: 'ch-cable-1h', name: 'Cable 1Hora 1.5M Tipo C', price: 80, category: 'Carga', img: 'https://imgur.com/IKQYIR1.png', desc: 'Reforzado y duradero.' },
            { id: 'ch-pb-10k', name: 'Power Bank 10k P1', price: 399, category: 'Carga', img: 'https://imgur.com/YgGTAFG.png', desc: 'Carga portátil G-Tide.' },
            { id: 'ch-60w-triple', name: 'Cargador 60W Triple', price: 399, category: 'Carga', img: 'https://imgur.com/CGvyR7w.png', badge: 'FAST', desc: 'Carga rápida 3 puertos.' },
            { id: 'ch-pb-40k', name: 'Power Bank 40,000 mAh', price: 1100, category: 'Carga', img: 'https://imgur.com/JH6yAAY.png', badge: 'POWER', desc: 'Energía masiva G-Tide.' },
            { id: 'ch-cable-4in1-2m', name: 'Cable 4 en 1 (2M)', price: 180, category: 'Carga', img: 'https://imgur.com/PTNCBgS.png', desc: 'Reforzado, largo alcance.' },
            { id: 'ch-cable-4in1-color', name: 'Cable 4 en 1 Color', price: 100, category: 'Carga', img: 'https://imgur.com/3eRTGzx.png', desc: 'Vida colorida 1.5M.' },

            // --- GAMING & OTROS ---
            { id: 'gm-combo-4', name: 'Combo Gamer 4pz', price: 650, category: 'Gaming', img: 'https://imgur.com/Ers7LoP.png', desc: 'Teclado, Mouse, Audífonos, Pad.' },
            { id: 'gm-r40-ultra', name: 'Game Master R40 Ultra', price: 1399, category: 'Gaming', img: 'https://i.imgur.com/rqGh7VN.png', badge: 'HOT', desc: 'Consola portátil premium.' },
            { id: 'gm-stick', name: 'Game Stick Lite 4K', price: 899, category: 'Gaming', img: 'https://i.imgur.com/t0imnN7.png', desc: 'Miles de juegos HDMI.' },
            { id: 'dp-box', name: 'Entrenador de Box', price: 899, category: 'Deportes', img: 'https://i.imgur.com/7AgCZwq.png', desc: 'Musical y de pared.' }
        ];

        let cart = JSON.parse(localStorage.getItem('uniteCart')) || [];
        const grid = document.getElementById('product-grid');
        const cartCount = document.getElementById('cart-count');
        const cartPanel = document.getElementById('cart-panel');
        const cartOverlay = document.getElementById('cart-overlay');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');

        function render(cat = 'all', search = '') {
            grid.innerHTML = '';
            const filtered = products.filter(p => (cat === 'all' || p.category === cat) && p.name.toLowerCase().includes(search.toLowerCase()));

            if(filtered.length === 0) document.getElementById('empty-msg').classList.remove('hidden');
            else document.getElementById('empty-msg').classList.add('hidden');

            filtered.forEach(p => {
                const el = document.createElement('div');
                el.className = 'glass-card p-4 flex flex-col relative rounded-sm group product-img-container';
                el.innerHTML = `
                    ${p.badge ? `<div class="absolute top-0 right-0 bg-nexus-cyan text-black text-[10px] font-bold font-tech px-2 py-1 tracking-widest z-20 pointer-events-none">${p.badge}</div>` : ''}
                    <a href="producto.html?id=${p.id}" class="flex-grow flex flex-col group-hover:no-underline">
                        <div class="aspect-square w-full bg-white/5 rounded-sm mb-4 flex items-center justify-center overflow-hidden relative p-4">
                            <div class="absolute inset-0 bg-nexus-cyan/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                            <img src="${p.img}" class="w-full h-full object-contain group-hover:scale-105 transition duration-500 relative z-10 drop-shadow-md" onerror="this.src='https://placehold.co/200x200/111/333?text=NEXUS'">
                        </div>
                        <div class="mt-auto">
                            <p class="text-[10px] text-nexus-cyan font-mono mb-1 uppercase opacity-70">${p.category}</p>
                            <h3 class="text-sm font-bold text-white leading-tight mb-3 font-tech tracking-wide group-hover:text-nexus-cyan transition-colors line-clamp-2">${p.name}</h3>
                        </div>
                    </a>
                    <div class="flex justify-between items-center border-t border-white/10 pt-3 mt-auto">
                        <span class="font-bold text-white text-lg">$${p.price}</span>
                        <button onclick="add('${p.id}')" class="w-8 h-8 border border-white/20 hover:border-nexus-cyan hover:bg-nexus-cyan/10 text-white hover:text-nexus-cyan rounded-sm flex items-center justify-center transition-all z-20 relative">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                grid.appendChild(el);
            });
            lucide.createIcons();
        }

        window.add = (id) => {
            const p = products.find(x => x.id === id);
            cart.push(p);
            save(); renderCart();
            const btn = document.getElementById('cart-trigger');
            btn.classList.add('text-nexus-cyan', 'scale-110');
            setTimeout(() => btn.classList.remove('text-nexus-cyan', 'scale-110'), 200);
        };

        function save() {
            localStorage.setItem('uniteCart', JSON.stringify(cart));
            cartCount.innerText = cart.length;
            cartCount.classList.toggle('hidden', cart.length === 0);
        }

        function renderCart() {
            cartItemsContainer.innerHTML = '';
            let total = 0;
            if(cart.length === 0) {
                cartItemsContainer.innerHTML = '<div class="text-center text-gray-600 font-tech py-10 tracking-widest">SISTEMA_VACÍO</div>';
            } else {
                cart.forEach((item, idx) => {
                    total += item.price;
                    const el = document.createElement('div');
                    el.className = 'flex items-center gap-4 bg-white/5 p-3 rounded-sm border border-white/5 relative group';
                    el.innerHTML = `
                        <div class="w-16 h-16 bg-white/10 rounded-sm flex-shrink-0 flex items-center justify-center p-2"><img src="${item.img}" class="w-full h-full object-contain"></div>
                        <div class="flex-grow min-w-0">
                            <p class="text-xs font-tech text-nexus-cyan mb-1 tracking-wider uppercase">${item.category}</p>
                            <p class="text-sm font-bold text-white truncate">${item.name}</p>
                            <p class="text-xs text-gray-400">$${item.price}</p>
                        </div>
                        <button onclick="remove(${idx})" class="p-2 text-gray-600 hover:text-nexus-red transition"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                    `;
                    cartItemsContainer.appendChild(el);
                });
            }
            cartTotal.innerText = `$${total.toLocaleString()}`;
            lucide.createIcons();
        }

        window.remove = (idx) => { cart.splice(idx, 1); save(); renderCart(); };

        const openCart = () => { 
            cartOverlay.classList.remove('hidden'); 
            setTimeout(() => { 
                cartOverlay.classList.remove('opacity-0'); 
                cartPanel.classList.remove('translate-x-full'); 
            }, 10); 
            renderCart(); 
        };
        
        const closeCartFn = () => {
            cartPanel.classList.add('translate-x-full');
            cartOverlay.classList.add('opacity-0');
            setTimeout(() => cartOverlay.classList.add('hidden'), 300);
        };

        document.getElementById('cart-trigger').addEventListener('click', openCart);
        document.getElementById('close-cart').addEventListener('click', closeCartFn);
        cartOverlay.addEventListener('click', closeCartFn);

        document.querySelectorAll('.filter-pill').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.filter-pill').forEach(b => { 
                    b.classList.remove('active', 'bg-nexus-cyan', 'text-black', 'border-nexus-cyan'); 
                    b.classList.add('bg-transparent', 'text-gray-400', 'border-white/10'); 
                });
                e.target.classList.remove('bg-transparent', 'text-gray-400', 'border-white/10');
                e.target.classList.add('active', 'bg-nexus-cyan', 'text-black', 'border-nexus-cyan');
                render(e.target.dataset.cat, document.getElementById('search-input').value);
            });
        });

        document.getElementById('search-input').addEventListener('input', (e) => {
            render(document.querySelector('.filter-pill.active')?.dataset.cat || 'all', e.target.value);
        });

        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMenuBtn = document.getElementById('close-menu');
        function toggleMenu() { mobileMenu.classList.toggle('translate-x-full'); }
        menuBtn.addEventListener('click', toggleMenu);
        closeMenuBtn.addEventListener('click', toggleMenu);

        document.getElementById('checkout-btn').addEventListener('click', () => {
            if(cart.length === 0) return;
            let msg = "INICIANDO_SECUENCIA_PEDIDO::NEXUS\n\nÍTEMS:\n";
            let t = 0;
            cart.forEach(p => { msg += `[+] ${p.name} ($${p.price})\n`; t += p.price; });
            msg += `\nVALOR_TOTAL: $${t}\n\nEsperando instrucciones de pago.`;
            window.open(`https://wa.me/525574123521?text=${encodeURIComponent(msg)}`, '_blank');
        });

        save(); render();
    </script>
</body>
</html>